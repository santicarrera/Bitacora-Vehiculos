<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bit√°cora Digital - Sistema de Control</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo">
                    üìù Bit√°cora Digital
                </div>
                <h1>Sistema de Control de Veh√≠culos y Equipos</h1>
            </div>
        </header>

        <!-- √Årea de mensajes -->
        <div id="mensaje" class="alert" style="display: none;"></div>

        <!-- Navegaci√≥n de pesta√±as -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="nuevo-registro">
                üìù Nuevo Registro
            </button>
            <button class="nav-tab" data-tab="historial">
                üìä Historial
            </button>
            <button class="nav-tab" data-tab="configuracion">
                ‚öôÔ∏è Configuraci√≥n
            </button>
        </nav>

        <!-- Contenido de pesta√±as -->
        <div class="tabs-container">
            
            <!-- PESTA√ëA: NUEVO REGISTRO -->
            <div id="nuevo-registro" class="tab-content active">
                <div class="form-container">
                    <form id="bitacoraForm">
                        <div class="form-section">
                            <div class="section-header">
                                üìã Informaci√≥n General
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="trabajador">Trabajador *</label>
                                    <select id="trabajador" required>
                                        <option value="">Seleccionar trabajador...</option>
                                    </select>
                                </div>

                                <div class="form-group full-width">
                                    <label for="acompanante">Acompa√±ante</label>
                                    <textarea id="acompanante" rows="3" placeholder="Ingrese el nombre del acopa√±ante y su legajo..."></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="vehiculo">Veh√≠culo *</label>
                                    <select id="vehiculo" required>
                                        <option value="">Seleccionar veh√≠culo...</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="fecha">Fecha *</label>
                                    <input type="date" id="fecha" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="turno">Turno *</label>
                                    <select id="turno" required>
                                        <option value="">Seleccionar turno...</option>
                                        <option value="MA√ëANA">Ma√±ana</option>
                                        <option value="TARDE">Tarde</option>
                                        <option value="NOCHE">Noche</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="tipoRegistro">Tipo de Registro *</label>
                                    <select id="tipoRegistro" required>
                                        <option value="">Seleccionar tipo...</option>
                                        <option value="inicio_turno">Inicio de Turno</option>
                                        <option value="fin_turno">Fin de Turno</option>
                                        <option value="mantenimiento">Mantenimiento</option>
                                        <option value="incidencia">Incidencia</option>
                                    </select>
                                </div>

                                <!-- CAMPO DE KIL√ìMETROS DIN√ÅMICO -->
                                <div class="form-group hidden" id="grupoKilometros">
                                    <label for="kilometros" id="labelKilometros">Kil√≥metros</label>
                                    <input type="number" id="kilometros" step="0.1" min="0" placeholder="Ingrese kil√≥metros...">
                                </div>
                                
                                <div class="form-group full-width">
                                    <label for="observacionesGenerales">Observaciones Generales</label>
                                    <textarea id="observacionesGenerales" rows="3" placeholder="Observaciones generales o tipo mecanicas..."></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- VERIFICACI√ìN DE VEH√çCULO -->
                        <div class="form-section">
                            <div class="section-header">
                                üöó Verificaci√≥n de Veh√≠culo
                                <button type="button" onclick="marcarTodosVehiculo()" class="btn btn-outline btn-sm" style="margin-left: auto;">
                                    ‚úì Sin cambios
                                </button>
                            </div>
                            
                            <div class="checkbox-grid">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="seguro" name="vehiculo">
                                    <label for="seguro">Seguro</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="cedula_vehiculo" name="vehiculo">
                                    <label for="cedula_vehiculo">C√©dula Veh√≠culo</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="luces" name="vehiculo">
                                    <label for="luces">Luces</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="balizas" name="vehiculo">
                                    <label for="balizas">Balizas</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="aceite" name="vehiculo">
                                    <label for="aceite">Aceite</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="agua" name="vehiculo">
                                    <label for="agua">Agua</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="liquido_freno" name="vehiculo">
                                    <label for="liquido_freno">L√≠quido de Freno</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="rodados_presion" name="vehiculo">
                                    <label for="rodados_presion">Rodados Presi√≥n</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="matafueg" name="vehiculo">
                                    <label for="matafueg">Matafuego</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="auxilio_gato" name="vehiculo">
                                    <label for="auxilio_gato">Auxilio-Gato</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="conos_soga" name="vehiculo">
                                    <label for="conos_soga">Conos (Soga)</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="botiquin" name="vehiculo">
                                    <label for="botiquin">Botiqu√≠n</label>
                                </div>
                            </div>
                        </div>

                        <!-- VERIFICACI√ìN DE EQUIPO -->
                        <div class="form-section">
                            <div class="section-header">
                                üîß Verificaci√≥n de Equipo
                                <button type="button" onclick="marcarTodosEquipo()" class="btn btn-outline btn-sm" style="margin-left: auto;">
                                    ‚úì Sin cambios
                                </button>
                            </div>
                            
                            <div class="checkbox-grid">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pertiga" name="equipo">
                                    <label for="pertiga">P√©rtiga</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="escalera_baja" name="equipo">
                                    <label for="escalera_baja">Escalera de Baja</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="escalera_media" name="equipo">
                                    <label for="escalera_media">Escalera de Media</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="detector_13_2kv" name="equipo">
                                    <label for="detector_13_2kv">Detector 13,2KV</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="puesta_tierra_jabalina" name="equipo">
                                    <label for="puesta_tierra_jabalina">Puesta a Tierra + Jabalina</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pinza_identar_hidraulica" name="equipo">
                                    <label for="pinza_identar_hidraulica">Pinza de Identar Hidr√°ulica</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="aparejo" name="equipo">
                                    <label for="aparejo">Aparejo</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="morzas_autoajustables" name="equipo">
                                    <label for="morzas_autoajustables">Morzas Autoajustables</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="barreta" name="equipo">
                                    <label for="barreta">Barreta</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="ganchos" name="equipo">
                                    <label for="ganchos">Ganchos</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="escafandra" name="equipo">
                                    <label for="escafandra">Escafandra</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="boga_servicio" name="equipo">
                                    <label for="boga_servicio">Boga de Servicio</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="amperometrica" name="equipo">
                                    <label for="amperometrica">Amperom√©trica</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="rotafasimetro" name="equipo">
                                    <label for="rotafasimetro">Rotafas√≠metro</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="linterna" name="equipo">
                                    <label for="linterna">Linterna</label>
                                </div>
                                
                                <div class="checkbox-item">
                                    <input type="checkbox" id="herramientas_mano" name="equipo">
                                    <label for="herramientas_mano">Herramientas de Mano</label>
                                </div>
                            </div>
                        </div>

                        <!-- COMBUSTIBLE -->
                        <div class="form-section">
                            <div class="section-header">
                                ‚õΩ Combustible
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="cargaCombustible">Carga de Combustible (Litros)</label>
                                    <input type="number" id="cargaCombustible" step="0.1" min="0" max="200" placeholder="0.0">
                                </div>
                                
                                <div class="form-group full-width">
                                    <label for="observacionesCombustible">Observaciones de Combustible</label>
                                    <textarea id="observacionesCombustible" rows="2" placeholder="Observaciones sobre el combustible..."></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                üíæ Guardar Registro
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- PESTA√ëA: HISTORIAL -->
            <div id="historial" class="tab-content">
                <div class="filters-section">
                    <div class="section-header">
                        üîç Filtros de B√∫squeda
                    </div>
                    
                    <div class="filters-grid">
                        <div class="form-group">
                            <label for="filtroTrabajador">Trabajador</label>
                            <select id="filtroTrabajador">
                                <option value="">Todos los trabajadores</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="filtroVehiculo">Veh√≠culo</label>
                            <select id="filtroVehiculo">
                                <option value="">Todos los veh√≠culos</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="fechaDesde">Fecha Desde</label>
                            <input type="date" id="fechaDesde">
                        </div>
                        
                        <div class="form-group">
                            <label for="fechaHasta">Fecha Hasta</label>
                            <input type="date" id="fechaHasta">
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button onclick="buscarRegistros()" class="btn btn-primary">
                            üîç Buscar Registros
                        </button>
                    </div>
                </div>
                
                <div class="results-section">
                    <div class="section-header">
                        üìä Resultados
                    </div>
                    <div id="resultadosHistorial">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Cargando registros...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PESTA√ëA: CONFIGURACI√ìN -->
            <div id="configuracion" class="tab-content">
                <!-- GESTI√ìN DE TRABAJADORES -->
                <div class="config-section">
                    <div class="section-header">
                        üë• Gesti√≥n de Trabajadores
                    </div>
                    
                    <!-- Agregar nuevo trabajador -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nuevoTrabajadorNombre">Nombre Completo</label>
                            <input type="text" id="nuevoTrabajadorNombre" placeholder="Nombre del trabajador">
                        </div>
                        
                        <div class="form-group">
                            <label for="nuevoTrabajadorCedula">Legajo</label>
                            <input type="text" id="nuevoTrabajadorCedula" placeholder="N√∫mero de Legajo">
                        </div>
                        
                        <div class="form-group">
                            <button onclick="agregarTrabajador()" class="btn btn-success">
                                ‚ûï Agregar Trabajador
                            </button>
                        </div>
                    </div>

                    <!-- Lista de trabajadores existentes -->
                    <div class="subsection-header">
                        üìã Trabajadores Registrados
                    </div>
                    <div id="listaTrabajadores" class="items-list">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Cargando trabajadores...</p>
                        </div>
                    </div>
                </div>
                
                <!-- GESTI√ìN DE VEH√çCULOS -->
                <div class="config-section">
                    <div class="section-header">
                        üöó Gesti√≥n de Veh√≠culos
                    </div>
                    
                    <!-- Agregar nuevo veh√≠culo -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nuevoVehiculoPlaca">Patente *</label>
                            <input type="text" id="nuevoVehiculoPlaca" placeholder="ABC-123" style="text-transform: uppercase;">
                        </div>
                        
                        <div class="form-group">
                            <label for="nuevoVehiculoModelo">Modelo</label>
                            <input type="text" id="nuevoVehiculoModelo" placeholder="Toyota Hilux">
                        </div>
                        
                        <div class="form-group">
                            <label for="nuevoVehiculoAno">A√±o</label>
                            <input type="number" id="nuevoVehiculoAno" min="1900" max="2030" placeholder="2023">
                        </div>
                        
                        <div class="form-group">
                            <label for="nuevoVehiculoTipo">Tipo de Veh√≠culo</label>
                            <input type="text" id="nuevoVehiculoTipo" placeholder="Camioneta">
                        </div>
                        
                        <div class="form-group">
                            <button onclick="agregarVehiculo()" class="btn btn-success">
                                ‚ûï Agregar Veh√≠culo
                            </button>
                        </div>
                    </div>

                    <!-- Lista de veh√≠culos existentes -->
                    <div class="subsection-header">
                        üìã Veh√≠culos Registrados
                    </div>
                    <div id="listaVehiculos" class="items-list">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Cargando veh√≠culos...</p>
                        </div>
                    </div>
                </div>
                
                <!-- CONFIGURACI√ìN DEL SISTEMA -->
                <div class="config-section">
                    <div class="section-header">
                        üîß Configuraci√≥n del Sistema
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <button onclick="verificarConexion()" class="btn btn-info">
                                üì° Verificar Conexi√≥n
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Funci√≥n para marcar todos los checkboxes de veh√≠culo
        function marcarTodosVehiculo() {
            const checkboxes = document.querySelectorAll('input[name="vehiculo"]');
            const todosMarcados = Array.from(checkboxes).every(cb => cb.checked);
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = !todosMarcados;
            });
        }

        // Funci√≥n para marcar todos los checkboxes de equipo
        function marcarTodosEquipo() {
            const checkboxes = document.querySelectorAll('input[name="equipo"]');
            const todosMarcados = Array.from(checkboxes).every(cb => cb.checked);
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = !todosMarcados;
            });
        }
    </script>

    <script src="functions.js"></script>
</body>
</html>